(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{675:function(t,e,n){"use strict";n.r(e);n(20),n(21),n(25),n(26),n(17),n(7),n(14);var r=n(1),o=n(4),l=(n(22),n(123),n(50),n(32),n(199)),c=n(10),d=n(86);function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var f={name:"Invoice",data:function(){return{}},props:{order:{type:Object}},mixins:[d.a],directives:{},components:{VueHtml2pdf:l.a},watch:{},computed:_(_(_(_({isFreeShipping:function(){return!(parseFloat(this.shippingPrice)>0)},userEmail:function(){var t,e,n,r;return null!==(t=null!==(e=null===(n=this.order)||void 0===n||null===(n=n.user)||void 0===n?void 0:n.email)&&void 0!==e?e:null===(r=this.order)||void 0===r||null===(r=r.guest_user)||void 0===r?void 0:r.email)&&void 0!==t?t:this.$t("prod.na")},currencyPosition:function(){var t;return null===(t=this.setting)||void 0===t?void 0:t.currency_position},totalPrice:function(){var t;return null===(t=this.order)||void 0===t?void 0:t.calculated.total_price},voucherPrice:function(){var t;return null===(t=this.order)||void 0===t?void 0:t.calculated.voucher_price},bundleOffer:function(){var t;return null===(t=this.order)||void 0===t?void 0:t.calculated.bundle_offer},shippingPrice:function(){var t;return null===(t=this.order)||void 0===t?void 0:t.calculated.shipping_price},taxPrice:function(){var t;return null===(t=this.order)||void 0===t?void 0:t.calculated.tax},subtotalPrice:function(){var t;return null===(t=this.order)||void 0===t?void 0:t.calculated.subtotal},currencyIcon:function(){var t;return(null===(t=this.setting)||void 0===t?void 0:t.currency_icon)||"$"}},Object(c.c)("admin",["isVendor"])),Object(c.c)("resource",["countryList"])),Object(c.c)("site-setting",["siteSetting"])),Object(c.c)("setting",["setting","base64SiteLogo","storeData"])),methods:_(_(_({generateAddress:function(t){if(!t)return this.$t("prod.na");var e=[];if(e.push(null==t?void 0:t.address_1),null!=t&&t.address_2&&e.push(null==t?void 0:t.address_2),e.push((null==t?void 0:t.city)+"-"+(null==t?void 0:t.zip)),this.countryList&&this.countryList[null==t?void 0:t.country]){var n,r=this.countryList[null==t?void 0:t.country];if(r.states[null==t?void 0:t.state])e.push(null===(n=r.states[t.state])||void 0===n?void 0:n.name);e.push(null==r?void 0:r.name)}return e.join(", ")},generatingPdf:function(){var t=this;this.$nextTick((function(){t.$refs.html2Pdf.generatePdf()}))},generatingAttribute:function(t){var e;return null==t||null===(e=t.updated_inventory)||void 0===e||null===(e=e.inventory_attributes)||void 0===e?void 0:e.map((function(i){var t,e;return[null==i||null===(t=i.attribute_value)||void 0===t||null===(t=t.attribute)||void 0===t?void 0:t.title,null==i||null===(e=i.attribute_value)||void 0===e?void 0:e.title]}))}},Object(c.b)("resource",["setCountryList"])),Object(c.b)("common",["getById"])),Object(c.b)("setting",["setConvertImage"])),beforeCreate:function(){},destroyed:function(){},mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var data,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.countryList){e.next=7;break}return t.loading=!0,e.next=4,t.getById({params:null,id:"countries",api:"resource"});case 4:data=e.sent,t.setCountryList(data),t.loading=!1;case 7:if(t.base64SiteLogo){e.next=10;break}return e.next=10,t.setConvertImage(null===(n=t.siteSetting)||void 0===n?void 0:n.email_logo);case 10:case"end":return e.stop()}}),e)})))()}},m=n(15),component=Object(m.a)(f,(function(){var t=this,e=t._self._c;return e("div",[e("client-only",[e("vue-html2pdf",{ref:"html2Pdf",attrs:{"show-layout":!1,"float-layout":!0,"enable-download":!0,"preview-modal":!1,"paginate-elements-by-height":1400,filename:"Invoice-".concat(t.order.order),"pdf-quality":3,"manual-pagination":!1,"pdf-format":"a4","pdf-orientation":"portrait"}},[e("div",{staticClass:"order-wrapper invoice-wrapper f-9",attrs:{slot:"pdf-content"},slot:"pdf-content"},[e("div",{staticClass:"sided p-30 align-start"},[e("div",{staticClass:"mx-w-350x"},[e("img",{staticClass:"h-25x w-auto mb-10",attrs:{src:"data:image/png;base64,".concat(t.base64SiteLogo)}}),t._v(" "),e("h4",{staticClass:"fw-600 mtb-5"},[t._v("\n              "+t._s(t.getDataFromObject(t.storeData,"name"))+"\n            ")]),t._v(" "),e("p",[t._v(" "+t._s(t.generateAddress(t.setting)))]),t._v(" "),e("p",[t._v("Phone: "+t._s(t.getDataFromObject(t.setting,"phone",t.$t("prod.na"))))])]),t._v(" "),e("div",[e("h3",{staticClass:"mb-5 bold"},[t._v(t._s(t.$t("setting.inv")))]),t._v(" "),e("ul",{staticClass:"mx-w-400x order-details lh-2"},[e("li",[e("span",[t._v(t._s(t.$t("fSale.orderUp")))]),t._v(" "),e("span",[t._v("#"+t._s(t.order.order))])]),t._v(" "),e("li",[e("span",[t._v(t._s(t.$t("setting.od")))]),t._v(" "),e("span",[t._v(t._s(t.order.created))])]),t._v(" "),t.isVendor?t._e():e("li",[e("span",[t._v(t._s(t.$t("setting.oa")))]),t._v(" "),e("span",[t._v(t._s(t.priceFormatting(t.totalPrice)))])])])])]),t._v(" "),e("div",{staticClass:"plr-30"},[e("table",{staticClass:"mn-w-600x no-bg mt-0 shipping-table"},[e("tr",{staticClass:"lite-bold"},[e("th",[t._v(t._s(t.$t("fSale.shipTo")))]),t._v(" "),e("th",[t._v(t._s(t.$t("setting.om")))])]),t._v(" "),e("tr",[e("td",{staticClass:"w-50"},[e("div",{staticClass:"mx-w-300x"},[e("b",[t._v(t._s(t.getDataFromObject(t.order,"address.name",t.$t("prod.na"))))]),t._v(" "),t.getDataFromObject(t.order,"address")?e("span",{staticClass:"block"},[t._v("\n                    "+t._s(t.generateAddress(t.getDataFromObject(t.order,"address"))))]):t._e(),t._v(" "),e("span",{staticClass:"block"},[t._v("Email: "+t._s(t.userEmail))]),t._v(" "),e("span",{staticClass:"block"},[t._v("Phone: "+t._s(t.getDataFromObject(t.order,"address.phone",t.$t("prod.na"))))])])]),t._v(" "),e("td",{staticClass:"w-50"},[t._v(t._s(t.paymentTypes[t.order.order_method]))])])]),t._v(" "),e("table",{staticClass:"mn-w-600x no-bg"},[e("tr",{staticClass:"lite-bold"},[e("th",[t._v(t._s(t.$t("index.title")))]),t._v(" "),e("th",[t._v(t._s(t.$t("fSale.dFee")))]),t._v(" "),e("th",[t._v(t._s(t.$t("fSale.qty")))]),t._v(" "),e("th",[t._v(t._s(t.$t("brand.price")))]),t._v(" "),e("th",[t._v(t._s(t.$t("fSale.total")))])]),t._v(" "),t._l(t.order.ordered_products,(function(n,r){return e("tr",{key:r},[e("td",{staticStyle:{"min-width":"250px"}},[t._v("\n                "+t._s(n.product.title)+"\n                "),e("span",{staticStyle:{display:"block"}},[t._l(t.generatingAttribute(n),(function(i){return e("span",{staticClass:"mr-15"},[e("b",{staticClass:"mr-10"},[t._v(t._s(i[0])+":")]),t._v(" "+t._s(i[1])+"\n                  ")])})),t._v(" "),n.updated_inventory.sku?e("span",{staticClass:"block mt-5"},[t._v("\n                    SKU: "+t._s(n.updated_inventory.sku)+"\n                  ")]):t._e()],2)]),t._v(" "),e("td",[t._v(t._s(t.priceFormatting(n.shipping_price)))]),t._v(" "),e("td",[t._v(t._s(n.quantity))]),t._v(" "),e("td",[t._v(t._s(t.priceFormatting(n.selling)))]),t._v(" "),e("td",[t._v(t._s(t.priceFormatting(n.selling*n.quantity)))])])}))],2),t._v(" "),t.isVendor?t._e():e("div",{staticClass:"dply-felx j-right"},[e("ul",{staticClass:"mx-w-400x order-details order-price"},[e("li",[e("span",[t._v(t._s(t.$t("fSale.sTotal")))]),t._v(" "),e("span",[t._v(t._s(t.priceFormatting(t.subtotalPrice)))])]),t._v(" "),e("li",[e("span",[t._v(t._s(t.$t("fSale.sCost")))]),t._v(" "),t.isFreeShipping?e("span",[t._v("\n                  "+t._s(t.$t("ship.fre"))+"\n                ")]):e("span",[t._v(t._s(t.priceFormatting(t.shippingPrice)))])]),t._v(" "),t.bundleOffer?e("li",[e("span",[t._v(t._s(t.$t("fSale.bOffer")))]),t._v(" "),e("span",[t._v(t._s(t.priceFormatting(t.bundleOffer)))])]):t._e(),t._v(" "),t.voucherPrice?e("li",[e("span",[t._v(t._s(t.$t("fSale.voucher")))]),t._v(" "),e("span",[t._v(t._s(t.priceFormatting(t.voucherPrice)))])]):t._e(),t._v(" "),t.taxPrice?e("li",[e("span",[t._v(t._s(t.$t("fSale.tax")))]),t._v(" "),e("span",[t._v(t._s(t.priceFormatting(t.taxPrice)))])]):t._e(),t._v(" "),e("li",[e("span",[t._v(t._s(t.$t("fSale.total")))]),t._v(" "),e("span",[t._v(t._s(t.priceFormatting(t.totalPrice)))])])])]),t._v(" "),e("table",{staticClass:"w-50 no-bg mt-0 shipping-table single-table"},[e("tr",{staticClass:"lite-bold"},[e("th",[t._v(t._s(t.$t("setting.notes")))])]),t._v(" "),e("tr",[e("td",{staticClass:"w-50"},[e("p",{staticClass:"semi-bold italic mb-10"},[t._v("\n                  "+t._s(t.$t("setting.query"))+"\n                ")]),t._v(" "),e("p",[t._v("\n                  "+t._s(t.$t("setting.query"))+"\n                  "+t._s(t.$t("setting.regard"))+": "+t._s(t.getDataFromObject(t.setting,"phone",t.$t("prod.na")))+"\n                ")])])])])])])])],1),t._v(" "),e("div",{staticClass:"dply-felx j-right mt-20 mt-sm-15"},[e("button",{staticClass:"plr-20 dply-felx outline-btn",on:{click:function(e){return e.preventDefault(),t.generatingPdf.apply(null,arguments)}}},[e("i",{staticClass:"icon print-icon mr-10"}),t._v("\n      "+t._s(t.$t("setting.pi"))+"\n    ")])])],1)}),[],!1,null,null,null);e.default=component.exports}}]);